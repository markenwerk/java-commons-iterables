# Some common iterables for Java

[![Build Status](https://travis-ci.org/markenwerk/java-commons-iterables.svg?branch=master)](https://travis-ci.org/markenwerk/java-commons-iterables)
[![Coverage Status](https://coveralls.io/repos/markenwerk/java-commons-iterables/badge.svg?branch=master&service=github)](https://coveralls.io/github/markenwerk/java-commons-iterables?branch=master)
[![Dependency Status](https://www.versioneye.com/user/projects/564f37bbff016c0033000471/badge.svg)](https://www.versioneye.com/user/projects/564f37bbff016c0033000471)
[![Maven Central](https://maven-badges.herokuapp.com/maven-central/net.markenwerk/commons-iterables/badge.svg)](https://maven-badges.herokuapp.com/maven-central/net.markenwerk/commons-iterables)
[![Java SE 6](https://img.shields.io/badge/java-SE_6-brightgreen.svg)](http://docs.oracle.com/javase/6/docs/api/)
[![MIT License](https://img.shields.io/badge/license-MIT-brightgreen.svg)](https://github.com/markenwerk/java-commons-iterables/blob/master/LICENSE)

## Overview

This is a collection of companion iterables for [some commonly useful `Iterator` implementations](https://github.com/markenwerk/java-commons-iterators) for the following use cases:

- [Filtering and Converting](#filtering-and-converting)
- [Combining multiple `Iterators`](#combining-multiple-iterators)
- [Inserting affix values](#inserting-affix-values)
- [Looking ahead](#looking-ahead)
- [Handling of `null` values](#handling-of-null-values)
- [Handling of `remove()` operation](#handling-of-remove-operation)
- [Iterating over single values](#iterating-over-single-values)
- [Iterating over multiple values](#iterating-over-multiple-values)
- [Iterating over primitive arrays](#iterating-over-non-primitive-arrays)
- [Iterating over non-primitive arrays](#iterating-over-primitive-arrays)
- [Iterating over other objects](#iterating-over-other-objects)
- [Iterating infinitely](#iterating-infinitely)
- [Keeping track of iteration index](#keeping-track-of-iteration-index)
- [Counting up and down](#counting-up-and-down)

This library is hosted in the [Maven Central Repository](https://maven-badges.herokuapp.com/maven-central/net.markenwerk/commons-iterables). You can use it with the following coordinates:

```xml
<dependency>
	<groupId>net.markenwerk</groupId>
	<artifactId>commons-iterables</artifactId>
	<version>3.2.1</version>
</dependency>
```

Consult the [usage description](#usage) and [Javadoc](http://markenwerk.github.io/java-commons-iterables/index.html) for further information.

## Usage

### Filtering and Converting

This library provides the generic [`FilteredIterable`][FilteredIterable] that takes an existing [`Iterable`][Iterable] and a [`Predicate`][Predicate] and generates [`Iterators`][Iterator] that filter out all values yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable] that don't satisfy the given [`Predicate`][Predicate].

```java
Iterable<Foo> iterable = ...

// generated iterable yield every foo from from iterator that matches the condition
Iterable<Foo> filteringIterable = new filteringIterable<>(iterable, new Predicate<Foo>(){

	@Override
	public boolean test(Object object) throws PredicateException {
		return ...; // some condition
	}

});
```

This library provides the generic [`ConvertingIterable`][ConvertingIterable] that takes an existing [`Iterable`][Iterable] and a [`Converter`][Converter] and generates [`Iterator`][Iterator] that convert all values yielded by an [`Iterators`][Iterator] generated by the given [`Iterable`][Iterable] and yield the converted values. 

```java
Iterable<Foo> iterable = ...

// generated iterators yield a bar for every foo from a iterator generated by iterable
Iterable<Bar> convertingIterable = new ConvertingIterable<>(iterable, new Converter<Foo, Bar>(){

	@Override
	public Bar convert(Foo foo) throws ConverterException {
		return ...; // some conversion
	}

});
```

### Combining multiple Iterators

This library provides the generic [`CombinedIterable`][CombinedIterable] that takes multiple existing [`Iterables`][Iterable] and combines them into a single [`Iterable`][Iterable] that generates [`Iterators`][Iterator] that yield all values from [`Iterators`][Iterator] generated by the given [`Iterables`][Iterable].

It can be constructed from an array or an arbitrary amount of known [`Iterables`][Iterable].

```java
Iterable<Foo> iterable1 = ...
Iterable<Foo> iterable2 = ...

// generated iterators yield every foo from iterators generated by iterable1 and iterable2
Iterable<Foo> combinedIterable = new CombinedIterable<>(iterable1, iterable2);
```

It can be constructed from an [`Iterable`][Iterable] of [`Iterables`][Iterable] (i.e. a [`List`][List]).

```java
List<Iterable<Foo>>[] iterables = ...

// generated iterable yield every foo from every iterator from iterators
Iterable<Foo> combinedIterable = new CombinedIterable<>(iterables);
```

### Inserting affix values

This library provides the generic [`PrefixedIterable`][PrefixedIterable] that takes an existing [`Iterable`][Iterable] and prefix values and generates [`Iterators`][Iterator] that yield the given prefix values before every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable].

```java
Foo prefix = ...
Iterable<Foo> iterable = ...

// generated iterable yields every foo from iterator, interspersed with the infix
Iterable<Foo> prefixedIterable = new PrefixedIterable<>(iterable, prefix);
```

This library provides the generic [`InfixedIterable`][InfixedIterable] that takes an existing [`Iterable`][Iterable] and infix values and generates [`Iterators`][Iterator] that yield the given infix values between every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable].

```java
Foo infix = ...
Iterable<Foo> iterable = ...

// generated iterable yields every foo from iterator, interspersed with the infix
Iterable<Foo> infixedIterable = new InfixedIterable<>(iterable, infix);
```

This library provides the generic [`SuffixedIterable`][SuffixedIterable] that takes an existing [`Iterable`][Iterable] and suffix values and generates [`Iterators`][Iterator] that yield the given suffix values after every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable].

```java
Foo suffix = ...
Iterable<Foo> iterable = ...

// generated iterable yields every foo from iterator, interspersed with the infix
Iterable<Foo> suffixedIterable = new SuffixedIterable<>(iterable, suffix);
```

### Looking ahead

This library provides the generic [`LookAheadIterable`][LookAheadIterable] that takes an existing [`Iterable`][Iterable] and generates [`Iterators`][Iterator] that yield every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable] wrapped in a [`LookAhead`][LookAhead] that also contains the next value. This allows to peak into the future, while iterating through the given [`Iterable`][Iterable].

```java
Iterable<Foo> iterable = ...

// generated iterator yields a look ahead for every foo from iterator
Iterable<LookAhead<Foo>> lookAheadIterable = new LookAheadIterable<>(iterator);
```

A [`LookAheadIterable`][LookAheadIterable] can be used to easily perform actions between every element yielded by the original [`Iterable`][Iterable].

```java
for (LookAhead<Foo> lookAhead : lookAheadIterable) {
    // returns the current foo
    Foo currentFoo = lookAhead.get() 
    doForEveryFoo(currentFoo);
    // returns whether the look ahead has a next value
    if (lookAhead.hasNext()) {  
        // returns the next foo
        Foo nextFoo = lookAhead.getNext();
        doBetweenFoos(currentFoo, nextFoo);
    }  
}
```

### Handling of `null` values

For situations where it is necessary to provide an [`Iterable`][Iterable], but no meaningful [`Iterable`][Iterable] is available, it might be useful to create an [`EmptyIterable`][EmptyIterable]. An [`EmptyIterable`][EmptyIterable] generates [`Iterators`][Iterator] that don't yield any values, but fulfill the [`Iterator`][Iterator] contract.

```java
// generated iterable yield nothing
Iterable<Foo> emptyIterable = new EmptyIterable<>();
```

For situations where some [`Iterable`][Iterable] is obtained and passed along, it might be useful to wrap the obtained [`Iterable`][Iterable] in a [`NullSaveIterable`][NullSaveIterable]. A [`NullSaveIterable`][NullSaveIterable] always generates an [`Iterator`][Iterator], even if it is constructed from a `null` [`Iterable`][Iterable].

```java
Iterable<Foo> iterable = ...

// generated iterators yield every foo from iterator generated by iterable
// of nothing, if iterable is null
Iterable<Foo> nullSaveIterable = new NullSaveIterable<>(iterable);
```

For situations where some [`Iterable`][Iterable] is obtained, it might be useful to wrap the obtained [`Iterable`][Iterable] in a [`NullFreeIterable`][NullFreeIterable]. A [`NullFreeIterable`][NullFreeIterable] generates [`Iterators`][Iterator] that tilter out all `null` values yielded by the obtained [`Iterable`][Iterable].

```java
Iterable<Foo> iterable = ...

// generated iterators yield every non-null foo from iterator generated by iterable
Iterable<Foo> nullFreeIterable = new NullFreeIterable<>(iterable);
```

### Handling of `remove()` operation

This library provides the [`ProtectedIterable`][ProtectedIterable] interface. A [`ProtectedIterable`][ProtectedIterable] is an [`Iterable`][Iterable] that must generate [`ProtectedIterators`][ProtectedIterator], when `iterator()` is called.

This library provides the [`ProtectingIterable`][ProtectingIterator] that takes an existing [`Iterable`][Iterable] and generates [`Iterators`][Iterator] that yield every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable], but throw a [`UnsupportedoperationException`][UnsupportedoperationException], if `remove()` is called.

```java
Iterable<Foo> iterable = ...

// generated iterators yield every foo from iterator generated by iterable, but don't allow removing
ProtectingIterable<Foo> protectingIterable = new ProtectingIterable<>(iterator); 
```

This library provides the [`RemoveHandlerIterable`][RemoveHandlerIterable] that takes an existing [`Iterable`][Iterable] and a [`Handler`][Handler] and generates [`Iterables`][Iterable] that yields all values yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable], but call the given handler with the last yielded value, instead of calling `remove()` on the generated [`Iterator`][Iterator].

```java
Iterable<Foo> iterable = ...

// generated iterators yield every foo from iterator generated by iterable, but intercepts removing
Iterable<Foo> removeHandlerIterable = new RemoveHandlerIterable<>(iterable, new Handler<Foo>(){

	@Override
	public void handle(Foo foo) {
		System.out.println(foo + " has been removed"); // some handling
	}
	
}); 
```

### Iterating over single values

This library provides the [`ObjectIterable`][ObjectIterable] and [`OptionalIterable`][OptionalIterable] that take an existing object and generate [`Iterators`][Iterator] that yield the given object. An [`ObjectIterable`][ObjectIterable] generates [`Iterators`][Iterator] that always yields the given object, whereas an [`OptionalIterable`][OptionalIterable] generates [`Iterators`][Iterator] that only yields the given object, if it isn't `null`. 

```java
Foo foo = ...

// generated iterable yield foo, even if foo is null
Iterable<Foo> objectIterable = new ObjectIterable<>(foo); 

// generated iterable yield foo or nothing, if foo is null
Iterable<Foo> optionalIterable = new OptionalIterable<>(foo); 
```

### Iterating over multiple values

This library provides the generic [`PairIterable`][PairIterable] that takes a [`Pair`][Pair] and generates [`Iterators`][Iterator] that yields both values of the given [`Pair`][Pair].

```java
Pair<Foo> pair = ...

// generated iterators yield both foos from pair
Iterable<Foo> pairIterable = new PairIterable(pair); 
```

This library provides the generic [`TupleIterable`][TupleIterable] that takes a [`Tuple`][Tuple] with elements of a similar type and generates [`Iterators`][Iterator] that yields both values of the given [`Tuple`][Tuple].

```java
Tuple<Foo, Foo> tuple = ...

// generated iterators yield both foos from tuple
Iterable<Foo> tupleIterable = new TupleIterable(tuple); 
```

This library provides the generic [`TripleIterable`][TripleIterable] that takes a [`Triple`][Triple] with elements of a similar type and generates [`Iterators`][Iterator] that yields all values of the given [`Triple`][Triple].

```java
Triple<Foo, Foo> triple = ...

// generated iterators yield all foos from triple
Iterable<Foo> tripleIterable = new TripleIterable(triple); 
```

### Iterating over primitive Arrays

This library provides the following [`Iterables`][Iterable] that take existing primitive arrays and generate [`Iterators`][Iterator] that yield all elements of the given array:

- [`BooleanArrayIterable`][BooleanArrayIterable]
- [`ByteArrayIterable`][ByteArrayIterable]
- [`CharacterArrayIterable`][CharacterArrayIterable]
- [`DoubleArrayIterable`][DoubleArrayIterable]
- [`FloatArrayIterable`][FloatArrayIterable]
- [`IntegerArrayIterable`][IntegerArrayIterable]
- [`LongArrayIterable`][LongArrayIterable]
- [`ShortArrayIterable`][ShortArrayIterable]

```java
boolean[] booleans = ...

// generated iterables yield every boolean from booleans
Iterable<Boolean> arrayIterable = new BooleanArrayIterable(booleans);
```

### Iterating over non-primitive Arrays

This library provides the generic [`ArrayIterable`][ArrayIterable] that takes an existing array and generates [`Iterators`][Iterator] that yield all elements of the given array:

```java
Foo[] foos = ...

// generated iterables yield every foo from foos
Iterable<Foo> arrayIterable = new ArrayIterable<>(foos);
```

### Iterating over other objects

This library provides the generic [`EnumerationIterable`][EnumerationIterable] that takes a [`Provider`][Provider] for [`Enumerations`][Enumeration] and generates [`Iterators`][Iterator] that yields every value yielded by an [`Enumeration`][Enumeration] generated by the given [`Provider`][Provider].

```java
Provider<Enumeration<Foo>> provider = ...

// generated iterators yield every foo from an enumeration generated by provider
Iterable<Foo> enumerationIterable = new EnumerationIterable<>(provider); 
```

This library provides the [`NodeListIterable`][NodeListIterable] that takes a [`NodeList`][NodeList] and generates [`Iterators`][Iterator] that yields every [`Node`][Node] of the given [`NodeList`][NodeList].

```java
NodeList nodeList = ...

// generated iterators yield every node from nodeList
Iterable<Node> nodeListIterable = new NodeListIterable(nodeList); 
```

This library provides the [`StringTokenizerIterable`][StringTokenizerIterable] that takes a [`Provider`][Provider] for [`StringTokenizers`][StringTokenizer] and generates [`Iterators`][Iterator] that yields every string yielded by a [`StringTokenizer`][StringTokenizer] generated by the given [`Provider`][Provider].

```java
Provider<StringTokenizer> provider = ...

// generated iterators yield every string from a tokenizer generated by provider
Iterable<String> tokenizerIterable = new StringTokenizerIterable(provider); 
```

### Iterating infinitely

This library provides the generic [`InfiniteIterable`][InfiniteIterable] that takes a [`Provider`][Provider] for and generates [`Iterators`][Iterator] that infinitely yields values yielded by the given [`Provider`][Provider].

```java
Provider<Foo> provider = ...

// generated iterators yield provided foos forever
Iterable<Foo> infiniteIterable = new InfiniteIterable<>(provider); 
```

### Keeping track of iteration index

This library provides the generic [`IndexedIterable`][IndexedIterable] that takes an existing [`Iterable`][Iterable] and generates [`Iterators`][Iterator] that yield every value yielded by an [`Iterator`][Iterator] generated by the given [`Iterable`][Iterable] wrapped in an [`Entry`][Entry] whose key is the iteration index of the yielded element.

```java
Iterable<Foo> iterable = ...

// generated iterators yield an entry for every foo from an iterator generated by iterable
Iterable<Entry<Integer, Foo>> indexedIterable = new IndexedIterable<>(iterable);

for(Entry<Integer, Foo> entry : indexedIterable) {
	System.out.println(entry.getValue() + " at index "  entry.getKey());
}
```

### Counting up and down

This library provides the [`CountDownIterable`][CountDownIterable] and [`CountUpIterable`][CountUpIterable] that take two integer values as bounds generate and generate [`Iterators`][Iterator] that yield every integer value between the given bounds, going downwards or upwards respectively.

```java
// generated iterables yield 10, 9, ..., 1, 0
Iterable<Integer> countUpIterable = new CountDownIterable(10, 0);

// generated iterables yield 0, 1, ..., 9, 10
Iterable<Integer> countDownIterable = new CountUpIterable(0, 10); 
```

[ArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ArrayIterable.html
[BooleanArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/BooleanArrayIterable.html
[ByteArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ByteArrayIterable.html
[CharacterArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/CharacterArrayIterable.html
[CombinedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/CombinedIterable.html
[ConvertingIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ConvertingIterable.html
[CountDownIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/CountDownIterable.html
[CountUpIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/CountUpIterable.html
[DoubleArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/DoubleArrayIterable.html
[EnumerationIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/EnumerationIterable.html
[EmptyIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/EmptyIterable.html
[FilteredIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/FilteredIterable.html
[FloatArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/FloatArrayIterable.html
[IndexedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/IndexedIterable.html
[InfiniteIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/InfiniteIterable.html
[InfixedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/InfixedIterable.html
[IntegerArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/IntegerArrayIterable.html
[LongArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/LongArrayIterable.html
[LookAheadIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/LookAheadIterable.html
[NullFreeIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/NullFreeIterable.html
[NullSaveIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/NullSaveIterable.html
[ObjectIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ObjectIterable.html
[OptionalIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/OptionalIterable.html
[NodeListIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/NodeListIterable.html
[PairIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/PairIterable.html
[PrefixedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/PrefixedIterable.html
[ProtectingIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ProtectingIterable.html
[ProtectedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ProtectedIterable.html
[RemoveHandlerIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/RemoveHandlerIterable.html
[ShortArrayIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/ShortArrayIterable.html
[StringTokenizerIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/StringTokenizerIterable.html
[SuffixedIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/SuffixedIterable.html
[TripleIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/TripleIterable.html
[TupleIterable]: https://markenwerk.github.io/java-commons-iterables/index.html?net/markenwerk/commons/iterables/TupleIterable.html

[LookAhead]: https://markenwerk.github.io/java-commons-iterators/index.html?net/markenwerk/commons/iterators/LookAhead.html
[ProtectedIterator]: https://markenwerk.github.io/java-commons-iterators/index.html?net/markenwerk/commons/iterators/ProtectedIterator.html
[ProtectingIterator]: https://markenwerk.github.io/java-commons-iterators/index.html?net/markenwerk/commons/iterators/ProtectingIterator.html

[Converter]: https://markenwerk.github.io/java-commons-interfaces/index.html?net/markenwerk/commons/interfaces/Converter.html
[Handler]: https://markenwerk.github.io/java-commons-interfaces/index.html?net/markenwerk/commons/interfaces/Handler.html
[Predicate]: https://markenwerk.github.io/java-commons-interfaces/index.html?net/markenwerk/commons/interfaces/Predicate.html
[Provider]: https://markenwerk.github.io/java-commons-interfaces/index.html?net/markenwerk/commons/interfaces/Provider.html

[Entry]: https://markenwerk.github.io/java-commons-datastructures/index.html?net/markenwerk/commons/datastructures/Entry.html
[Pair]: https://markenwerk.github.io/java-commons-datastructures/index.html?net/markenwerk/commons/datastructures/Pair.html
[Triple]: https://markenwerk.github.io/java-commons-datastructures/index.html?net/markenwerk/commons/datastructures/Triple.html
[Tuple]: https://markenwerk.github.io/java-commons-datastructures/index.html?net/markenwerk/commons/datastructures/Tuple.html

[Enumeration]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/Enumeration.html
[Iterable]: http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/Iterable.html
[Iterator]: http://docs.oracle.com/javase/8/docs/api/index.html?java/util/Iterator.html
[List]: http://docs.oracle.com/javase/8/docs/api/index.html?java/util/List.html
[Node]: https://docs.oracle.com/javase/8/docs/api/index.html?org/w3c/dom/Node.html
[NodeList]: https://docs.oracle.com/javase/8/docs/api/index.html?org/w3c/dom/NodeList.html
[StringTokenizer]: https://docs.oracle.com/javase/8/docs/api/index.html?java/util/StringTokenizer.html
[UnsupportedOperationException]: https://docs.oracle.com/javase/8/docs/api/index.html?java/lang/UnsupportedOperationException.html